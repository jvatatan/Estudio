{% extends 'base/base.html' %}
{% block main %}
{% load bootstrap4 %}
{% load staticfiles i18n %}
<!DOCTYPE html>
<html>
    <head>
        <title>Sistema de semaforizaci√≥n Reporte de Medicamentos</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div class="col-md-6 offset-md-3">
            <div class="card">
                <div class="card-body text-center">
                    <h1>Reporte de Medicamentos</h1>
                </div>
                <div class="card-body">
                    <canvas id="myChart" width="2" height="2"></canvas>
                </div>
            </div>
        </div>
        <script>
            var olddata= [2,8,3,4,7,];
            var ctx= document.getElementById("myChart").getContext("2d");
            var myChart= new Chart(ctx,{
                type:"pie",
                data:{
                    labels:['EstadoRojo','EstadoAmarillo','EstadoVerde', 'EstadoBlanco', 'EstadoNaranja'],
                    datasets:[{
                            label:'Numero de Medicamentos segun su estado de color',
                            data: olddata,
                            backgroundColor:[
                                'rgb(255, 30, 30)',
                                'rgb(239, 251, 0)',
                                'rgb(0, 255, 72)',
                                'rgb(234, 230, 202)',
                                'rgb(244, 070, 017)',
                            ]
                            

                            
                    }]
                },
                options:{
                    scales:{
                        yAxes:[{
                                ticks:{
                                    beginAtZero:true
                                }
                        }]
                    }
                }
            });
        </script>
    </body>
</html>
{% endblock %}

<!-- manejo del Ajax para generar consultas por filtro -->
 <!-- 
 <script >
    $(document).ready(function(){
        $("#buscar_medicamento").submit(function(e){
            e.preventDefault();
            buscar_medicam = document.getElementById("myChart").value
            $.ajax({
                url: $(this).attr('action'),
                type: $(this).attr('method'),
                data: $(this).serialize(),
    
                success: function(json){
                    var colorActual = buscar_medicam;
                    if(colorActual=="Rojo"){
                    $("#dataTable").find("tr:not([name = registro_item_Rojo])").each(function(){
                    $(this).remove();              
                    });
                    }
                    if(colorActual=="Verde"){
                      $("#dataTable").find("tr:not([name = registro_item_Verde])").each(function(){
                      $(this).remove();              
                    });    
                    }
                    if(colorActual=="Amarillo"){
                      $("#dataTable").find("tr:not([name = registro_item_Amarillo])").each(function(){
                     $(this).remove();              
                    });   
                    }
                    if(colorActual=="Blanco"){
                      $("#dataTable").find("tr:not([name = registro_item_Blanco])").each(function(){
                     $(this).remove();              
                    });    
                    } 
                    if(colorActual=="Naranja"){
                      $("#dataTable").find("tr:not([name = registro_item_Naranja])").each(function(){
                     $(this).remove();              
                    });    
                    } 
                    
                }
            })
        })
    })
    
</script> -->